## 第八章：方法

### 49.检查参数有效性
1. 在文档注释上使用@throws标签说明违反参数值时抛出异常
2. 非公有方法通常使用assert来检查异常，特别是在一些测试单元的使用中
3. boolean的默认值是false，Boolean的默认值是null，这个一定要注意。所有类型的封装类型其实都符合这个规律。  
变量名不要用is开头，在sql判断时和反序列化时会造成问题。  
java 如果是boolean类型则is开头的方法，可以不考虑是否为空

### 50.必要时进行保护性拷贝
1. 不要使用Date，这个已经过时了，可以使用Instant或者LocalDateTime或者ZoneDataTime

### 51.谨慎的设计方法签名
1. 谨慎的选择方法名称
2. 不要过于追求提供便捷的方法：应该是按功能模块的，一个方法提供一个完整的功能
3. 避免过长的参数列表：相同类型的长参数列表特别容易出错，在go中也是：可以使用辅助类进行改进，但是需要注意辅助类要满足一个整体属性
4. 对于参数类型，优先使用接口而不是类：能传hashmap就不要传map

### 52.慎用重载
1. 重载是静态的，在编译期确定的，不能在运行时动态选择
2. 保守策略是：永远不要导出两个具有相同参数数目的重载方法，像tikuOutside nos upload方法重载的就比较好，还有call-center中的http post方法

### 53.慎用可变参数
1. 在定义参数数目不定的方法时，可变参数方法是一种很方便的方式。在使用可变参数之前，要先包含所有必要的参数，所以要进行一些检查，  
并且要注意使用可变参数所带来的性能影响

### *54.返回零长度的数组或者集合，而不是null*
1. 如果返回null，则调用方需要额外的代码来维护
2. 这个对性能的影响与程序鲁棒性相比，鲁棒性更加重要。除非对性能要求比较高。而且可以使用通过返回一个*不变的*零长度集合来降低性能开销
3. 也就是在空集合的情况下用零长度集合代替，例如Collections.emptyList()方法

### 55.谨慎的返回optional

### 56.为所有导出的API编写文档注释
1. *为了正确的编写API文档，必须在每个被导出的类，接口，构造器，方法和域声明之前增加一个注释文档*
2. 方法的文档注释应该简洁的描述出它和客户端之间的约定
3. 可以使用@throws注解和@param标签，以及@return标签；@code标签以代码形式展示
4. 为泛型编写文档说明时，要说明泛型参数
5. 类或者静态方法是否线程安全，应该在文档中增加对线程安全级别进行描述。*序列化安全和线程安全常被忽略*





